INCLUDE( FindPkgConfig )

PKG_SEARCH_MODULE( ALLOCATORS allocators )

IF( NOT ALLOCATORS_FOUND )
	IF ( ALLOCATORS_INSTALL_DIR )
		MESSAGE ( STATUS "Using override ALLOCATORS_INSTALL_DIR to find allocators" )
		SET ( ALLOCATORS_INCLUDE_DIR  "${ALLOCATORS_INSTALL_DIR}/include" )
		SET ( ALLOCATORS_INCLUDE_DIRS "${ALLOCATORS_INCLUDE_DIR}" )
	ELSE ( ALLOCATORS_INSTALL_DIR )
		FIND_PATH( ALLOCATORS_INCLUDE_DIR allocators/allocators.h )
	ENDIF ( ALLOCATORS_INSTALL_DIR )

	IF ( ALLOCATORS_INCLUDE_DIR )
		SET( ALLOCATORS_FOUND 1 )
		IF ( NOT Allocators_FIND_QUIETLY )
			MESSAGE ( STATUS "Found Allocators: ${ALLOCATORS_INCLUDE_DIR}" )
		ENDIF ( NOT Allocators_FIND_QUIETLY )
	ELSE ( ALLOCATORS_INCLUDE_DIR )
		IF ( Allocators_FIND_REQUIRED )
			MESSAGE( FATAL_ERROR "Could NOT find Allocators" )
		ELSE ( Allocators_FIND_REQUIRED )
			IF ( NOT Allocators_FIND_QUIETLY )
				MESSAGE( STATUS "Could NOT find Allocators" )	
			ENDIF ( NOT Allocators_FIND_QUIETLY )
		ENDIF ( Allocators_FIND_REQUIRED )
	ENDIF ( ALLOCATORS_INCLUDE_DIR)
ENDIF( NOT ALLOCATORS_FOUND )

MARK_AS_ADVANCED( ALLOCATORS_INCLUDE_DIR )

