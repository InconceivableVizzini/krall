INCLUDE( FindPkgConfig )

PKG_SEARCH_MODULE( CHARACTERS characters )

IF( NOT CHARACTERS_FOUND )
	IF ( CHARACTERS_INSTALL_DIR )
		MESSAGE ( STATUS "Using override CHARACTERS_INSTALL_DIR to find characters" )
		SET ( CHARACTERS_INCLUDE_DIR  "${CHARACTERS_INSTALL_DIR}/include" )
		SET ( CHARACTERS_INCLUDE_DIRS "${CHARACTERS_INCLUDE_DIR}" )
		FIND_LIBRARY( CHARACTERS_LIBRARY NAMES characters PATHS "${CHARACTERS_INSTALL_DIR}/lib" )
		SET ( CHARACTERS_LIBRARIES "${CHARACTERS_LIBRARY}" )
	ELSE ( CHARACTERS_INSTALL_DIR )
		FIND_PATH( CHARACTERS_INCLUDE_DIR characters/strings.h )
		FIND_LIBRARY( CHARACTERS_LIBRARIES NAMES characters )
	ENDIF ( CHARACTERS_INSTALL_DIR )

	IF ( CHARACTERS_INCLUDE_DIR AND CHARACTERS_LIBRARIES )
		SET( CHARACTERS_FOUND 1 )
		IF ( NOT Characters_FIND_QUIETLY )
			MESSAGE ( STATUS "Found Characters: ${CHARACTERS_LIBRARIES}" )
		ENDIF ( NOT Characters_FIND_QUIETLY )
	ELSE ( CHARACTERS_INCLUDE_DIR AND CHARACTERS_LIBRARIES )
		IF ( Characters_FIND_REQUIRED )
			MESSAGE( FATAL_ERROR "Could NOT find Characters" )
		ELSE ( Characters_FIND_REQUIRED )
			IF ( NOT Characters_FIND_QUIETLY )
				MESSAGE( STATUS "Could NOT find Characters" )	
			ENDIF ( NOT Characters_FIND_QUIETLY )
		ENDIF ( Characters_FIND_REQUIRED )
	ENDIF ( CHARACTERS_INCLUDE_DIR AND CHARACTERS_LIBRARIES )
ENDIF( NOT CHARACTERS_FOUND )

MARK_AS_ADVANCED( CHARACTERS_INCLUDE_DIR CHARACTERS_LIBRARIES )

